<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Instinct Index - Behavioral Readiness Survey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #121423 0%, #0a0d15 100%);
            color: #f5f5f5;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            border-bottom: 2px solid #00f0ff;
        }

        h1 {
            font-size: 2.5rem;
            color: #00f0ff;
            margin-bottom: 10px;
            font-weight: 900;
        }

        .tagline {
            color: #b4b4be;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .mode-selector {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 30px;
            border: 2px solid #00f0ff;
            background-color: transparent;
            color: #00f0ff;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #00f0ff;
            color: #121423;
        }

        button.active {
            background-color: #00f0ff;
            color: #121423;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* SURVEY MODE STYLES */
        .survey-container {
            background-color: #1e2332;
            border: 2px solid #00f0ff;
            padding: 40px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #2a2f40;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f0ff, #ff0078);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-block {
            margin-bottom: 30px;
            display: none;
        }

        .question-block.active {
            display: block;
        }

        .dimension-header {
            background-color: #0a0d15;
            padding: 15px 20px;
            margin-bottom: 20px;
            border-left: 4px solid #00f0ff;
            border-radius: 4px;
        }

        .dimension-name {
            color: #00f0ff;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .dimension-description {
            color: #b4b4be;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .question-text {
            color: #f5f5f5;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .likert-scale {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
        }

        .likert-option {
            flex: 1;
            min-width: 80px;
            padding: 15px;
            text-align: center;
            border: 2px solid #2a2f40;
            background-color: #1a1f2e;
            color: #b4b4be;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .likert-option:hover {
            border-color: #00f0ff;
            background-color: #2a2f40;
            color: #00f0ff;
        }

        .likert-option.selected {
            background-color: #00f0ff;
            color: #121423;
            border-color: #00f0ff;
        }

        .likert-label {
            display: block;
            font-size: 0.75rem;
            margin-top: 5px;
            color: #94a3b8;
        }

        .survey-buttons {
            display: flex;
            gap: 20px;
            justify-content: space-between;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .btn-prev, .btn-next, .btn-submit {
            padding: 12px 30px;
            border: 2px solid #00f0ff;
            background-color: transparent;
            color: #00f0ff;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .btn-prev:hover, .btn-next:hover, .btn-submit:hover {
            background-color: #00f0ff;
            color: #121423;
        }

        .btn-submit {
            border-color: #ff0078;
            color: #ff0078;
        }

        .btn-submit:hover {
            background-color: #ff0078;
            color: #f5f5f5;
        }

        /* RESULTS DASHBOARD */
        .results-container {
            background-color: #1e2332;
            border: 2px solid #ff0078;
            padding: 40px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .overall-score {
            background: linear-gradient(135deg, #00f0ff 0%, #ff0078 100%);
            padding: 40px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 40px;
            color: #121423;
        }

        .score-number {
            font-size: 3rem;
            font-weight: 900;
            margin: 20px 0;
        }

        .score-label {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .readiness-classification {
            font-size: 1.3rem;
            font-weight: 700;
            margin-top: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dimension-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .dimension-card {
            background-color: #1a1f2e;
            border-left: 4px solid #00f0ff;
            padding: 20px;
            border-radius: 4px;
        }

        .dimension-card.medium {
            border-left-color: #ffd700;
        }

        .dimension-card.weak {
            border-left-color: #ff4444;
        }

        .dimension-title {
            color: #00f0ff;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .dimension-card.medium .dimension-title {
            color: #ffd700;
        }

        .dimension-card.weak .dimension-title {
            color: #ff4444;
        }

        .dimension-score {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .score-text {
            color: #f5f5f5;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .score-bar {
            width: 100%;
            height: 10px;
            background-color: #2a2f40;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .score-fill {
            height: 100%;
            background-color: #00f0ff;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .dimension-card.medium .score-fill {
            background-color: #ffd700;
        }

        .dimension-card.weak .score-fill {
            background-color: #ff4444;
        }

        .dimension-recommendation {
            color: #b4b4be;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-top: 15px;
            font-style: italic;
        }

        .radar-chart {
            width: 100%;
            max-width: 500px;
            margin: 40px auto;
        }

        .export-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .btn-export {
            padding: 12px 30px;
            border: 2px solid #00f0ff;
            background-color: transparent;
            color: #00f0ff;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .btn-export:hover {
            background-color: #00f0ff;
            color: #121423;
        }

        /* ADMIN DASHBOARD */
        .admin-container {
            background-color: #1e2332;
            border: 2px solid #00f0ff;
            padding: 40px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-box {
            background-color: #1a1f2e;
            padding: 20px;
            border-radius: 4px;
            text-align: center;
            border: 2px solid #00f0ff;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 900;
            color: #00f0ff;
            margin: 10px 0;
        }

        .stat-label {
            color: #b4b4be;
            font-size: 0.9rem;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            background-color: #1a1f2e;
            border: 1px solid #2a2f40;
        }

        .data-table th {
            background-color: #0a0d15;
            color: #00f0ff;
            padding: 15px;
            text-align: left;
            font-weight: 700;
            border-bottom: 2px solid #00f0ff;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #2a2f40;
            color: #f5f5f5;
        }

        .data-table tr:hover {
            background-color: #2a2f40;
        }

        .heatmap {
            display: grid;
            grid-template-columns: repeat(11, 1fr);
            gap: 5px;
            margin: 30px 0;
        }

        .heatmap-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
            color: #121423;
        }

        .heatmap-label {
            font-size: 0.8rem;
            color: #b4b4be;
            padding: 5px;
            text-align: center;
        }

        .temp-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .temp-modal.active {
            display: flex;
        }

        .modal-content {
            background-color: #1e2332;
            padding: 40px;
            border-radius: 8px;
            border: 2px solid #00f0ff;
            max-width: 500px;
            width: 90%;
        }

        .modal-close {
            float: right;
            font-size: 2rem;
            cursor: pointer;
            color: #00f0ff;
        }

        .modal-close:hover {
            color: #ff0078;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            background-color: #1a1f2e;
            border: 2px solid #2a2f40;
            color: #f5f5f5;
            border-radius: 4px;
            font-size: 1rem;
        }

        .input-field:focus {
            outline: none;
            border-color: #00f0ff;
        }

        .success-message {
            background-color: #1a4d2e;
            color: #90ee90;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            border-left: 4px solid #00ff00;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }

            .survey-container, .results-container, .admin-container {
                padding: 20px;
            }

            .likert-option {
                min-width: 60px;
                padding: 10px;
                font-size: 0.9rem;
            }

            .dimension-results {
                grid-template-columns: 1fr;
            }

            .admin-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üß† AI Instinct Index</h1>
            <p class="tagline">Measure Your Organization's AI Adoption Behavioral Readiness</p>
            <p style="color: #94a3b8; font-size: 0.95rem;">68 Questions | 11 Behavioral Dimensions | 12-15 Minutes</p>
        </header>

        <div class="mode-selector">
            <button class="mode-btn active" onclick="switchMode('home')">Home</button>
            <button class="mode-btn" onclick="switchMode('survey')">Take Survey</button>
            <button class="mode-btn" onclick="switchMode('admin')">Admin Dashboard</button>
        </div>

        <!-- HOME SECTION -->
        <div id="home" class="section active">
            <div class="survey-container" style="text-align: center;">
                <h2 style="color: #00f0ff; margin-bottom: 20px; font-size: 2rem;">Welcome to AI Instinct Index</h2>
                <p style="color: #b4b4be; font-size: 1.1rem; line-height: 1.8; margin-bottom: 30px;">
                    This comprehensive assessment measures behavioral readiness across 11 critical dimensions of AI adoption.<br>
                    Your responses will generate personalized insights and organizational benchmarks.
                </p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 40px 0;">
                    <div style="background-color: #1a1f2e; padding: 20px; border-radius: 4px; border-left: 4px solid #00f0ff;">
                        <div style="font-size: 2rem; font-weight: 900; color: #00f0ff;">68</div>
                        <div style="color: #b4b4be; margin-top: 10px;">Research-Backed Questions</div>
                    </div>
                    <div style="background-color: #1a1f2e; padding: 20px; border-radius: 4px; border-left: 4px solid #ff0078;">
                        <div style="font-size: 2rem; font-weight: 900; color: #ff0078;">11</div>
                        <div style="color: #b4b4be; margin-top: 10px;">Behavioral Dimensions</div>
                    </div>
                    <div style="background-color: #1a1f2e; padding: 20px; border-radius: 4px; border-left: 4px solid #00f0ff;">
                        <div style="font-size: 2rem; font-weight: 900; color: #00f0ff;">15 min</div>
                        <div style="color: #b4b4be; margin-top: 10px;">Completion Time</div>
                    </div>
                </div>

                <h3 style="color: #00f0ff; margin-top: 40px; margin-bottom: 20px;">The 11 Dimensions</h3>
                <div style="text-align: left; background-color: #1a1f2e; padding: 20px; border-radius: 4px; border-left: 4px solid #00f0ff;">
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #00f0ff;">1. Exploration</strong> - Willingness to experiment and learn</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #ff0078;">2. Persistence</strong> - Resilience and follow-through</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #00f0ff;">3. Integration</strong> - Ethical and responsible use</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #ff0078;">4. Influence</strong> - Knowledge sharing and peer support</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #00f0ff;">5. Psychological Barriers</strong> - Fear, anxiety, insecurity</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #ff0078;">6. Digital Temperament</strong> - Technology comfort</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #00f0ff;">7. Trust & Explainability</strong> - Confidence in AI systems</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #ff0078;">8. Leadership Alignment</strong> - Executive modeling</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #00f0ff;">9. Policy Clarity</strong> - Clear guidance and communication</p>
                    <p style="color: #f5f5f5; margin-bottom: 10px;"><strong style="color: #ff0078;">10. Benefit Realization</strong> - Visible AI impact</p>
                    <p style="color: #f5f5f5;"><strong style="color: #00f0ff;">11. Adoption Stage</strong> - Current phase and scaling readiness</p>
                </div>

                <button onclick="switchMode('survey')" style="margin-top: 40px; padding: 15px 40px; font-size: 1.1rem; border-color: #ff0078; color: #ff0078;">
                    ‚ñ∂ Start Survey Now
                </button>
            </div>
        </div>

        <!-- SURVEY SECTION -->
        <div id="survey" class="section">
            <div class="survey-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <div id="surveyContent"></div>

                <div class="survey-buttons">
                    <button class="btn-prev" onclick="previousQuestion()" id="btnPrev" style="display: none;">‚Üê Previous</button>
                    <button class="btn-next" onclick="nextQuestion()" id="btnNext">Next ‚Üí</button>
                    <button class="btn-submit" onclick="submitSurvey()" id="btnSubmit" style="display: none;">Submit Survey ‚úì</button>
                </div>
            </div>
        </div>

        <!-- RESULTS SECTION -->
        <div id="results" class="section">
            <div class="results-container" id="resultsContent"></div>
        </div>

        <!-- ADMIN SECTION -->
        <div id="admin" class="section">
            <div class="admin-container">
                <h2 style="color: #00f0ff; margin-bottom: 30px; font-size: 2rem;">Admin Dashboard</h2>
                
                <div style="margin-bottom: 20px;">
                    <label for="adminPassword" style="color: #b4b4be;">Admin Password:</label>
                    <input type="password" id="adminPassword" class="input-field" placeholder="Enter admin password">
                    <button onclick="unlockAdmin()" style="margin-top: 10px;">Unlock Dashboard</button>
                </div>

                <div id="adminContent" style="display: none;">
                    <div class="admin-grid">
                        <div class="stat-box">
                            <div style="color: #00f0ff; font-weight: 700;">Total Responses</div>
                            <div class="stat-number" id="totalResponses">0</div>
                        </div>
                        <div class="stat-box">
                            <div style="color: #ff0078; font-weight: 700;">Avg. Readiness Score</div>
                            <div class="stat-number" id="avgScore">0</div>
                        </div>
                        <div class="stat-box">
                            <div style="color: #00f0ff; font-weight: 700;">Completion Rate</div>
                            <div class="stat-number" id="completionRate">0%</div>
                        </div>
                    </div>

                    <h3 style="color: #00f0ff; margin: 40px 0 20px 0;">Organizational Heatmap - Behavioral Dimensions</h3>
                    <div class="heatmap" id="heatmap"></div>

                    <h3 style="color: #00f0ff; margin: 40px 0 20px 0;">All Responses</h3>
                    <table class="data-table" id="responsesTable">
                        <thead>
                            <tr>
                                <th>Response ID</th>
                                <th>Overall Score</th>
                                <th>Readiness Level</th>
                                <th>Timestamp</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody"></tbody>
                    </table>

                    <div class="export-buttons">
                        <button class="btn-export" onclick="exportDataAsCSV()">üìä Export as CSV</button>
                        <button class="btn-export" onclick="clearAllData()" style="border-color: #ff4444; color: #ff4444;">üóëÔ∏è Clear All Data</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // SURVEY DATA - 68 QUESTIONS ACROSS 11 DIMENSIONS
        const surveyData = [
            {
                dimension: "1. EXPLORATION (Try)",
                description: "Willingness to experiment and learn",
                questions: [
                    "I actively seek out new technology tools and experiment with them in daily work",
                    "I have joined pilot programs or volunteered for testing new systems without being mandated",
                    "When a new AI tool or feature becomes available, I am curious and willing to try it",
                    "I require detailed instructions before exploring new technologies (REVERSE)",
                    "My participation in optional technology trainings is high",
                    "I prefer to learn new methods even when my traditional approaches work well"
                ]
            },
            {
                dimension: "2. PERSISTENCE (Sustain)",
                description: "Resilience and follow-through",
                questions: [
                    "I complete AI-related training programs once I start them",
                    "When I encounter errors or difficulties, I persist in using AI tools",
                    "I tend to abandon AI systems after initial setbacks (REVERSE)",
                    "My usage of AI tools remains consistent after the first introduction phase",
                    "I continue learning about AI even after deployment",
                    "I view challenges with new technology as opportunities to develop skills"
                ]
            },
            {
                dimension: "3. INTEGRATION (Normalize)",
                description: "Ethical and responsible use",
                questions: [
                    "I am aware of ethical implications and risks when using AI in my work",
                    "I comply with company data governance policies when operating AI tools",
                    "I consider wider impacts before using new automation or AI solutions",
                    "I have bypassed protocols or governance for convenience (REVERSE)",
                    "Company policies on AI are clear and consistently followed in my team",
                    "I receive clear guidance on responsible AI use"
                ]
            },
            {
                dimension: "4. INFLUENCE (Scale)",
                description: "Knowledge sharing and peer support",
                questions: [
                    "I have helped or mentored colleagues on using AI technologies",
                    "Peers recognize me as a go-to person for AI questions",
                    "My organization has active communities of practice for AI exchange",
                    "Successful AI use-cases are shared across teams in my organization",
                    "There is a lack of internal champions for AI adoption (REVERSE)",
                    "I am involved in peer training or informal advocacy for AI tools"
                ]
            },
            {
                dimension: "5. PSYCHOLOGICAL BARRIERS",
                description: "Fear, anxiety, insecurity",
                questions: [
                    "I feel threatened or worried about AI replacing my job (REVERSE)",
                    "My anxiety or stress has increased since AI was introduced (REVERSE)",
                    "There is reluctance to use AI for core work tasks in my team (REVERSE)",
                    "Concerns about being seen as lazy or a fraud when using AI affect my usage (REVERSE)",
                    "Additional cognitive effort is a barrier to trying AI tools for me (REVERSE)",
                    "I worry about being perceived as incompetent if AI makes mistakes (REVERSE)"
                ]
            },
            {
                dimension: "6. DIGITAL TEMPERAMENT",
                description: "Technology comfort and ambiguity tolerance",
                questions: [
                    "I feel comfortable with technology ambiguity and uncertainty",
                    "I have typically embraced new workplace tools",
                    "My anxiety around technology adoption is manageable",
                    "Training has been tailored to my digital comfort level",
                    "I find probabilistic (uncertain) AI outputs frustrating (REVERSE)",
                    "I am more comfortable with deterministic, predictable technologies (REVERSE)"
                ]
            },
            {
                dimension: "7. TRUST & EXPLAINABILITY",
                description: "Confidence in AI systems",
                questions: [
                    "I understand how AI tools make decisions (explainability)",
                    "My organization has been transparent about AI limitations and error rates",
                    "I experience algorithmic aversion after seeing AI make mistakes (REVERSE)",
                    "I trust AI tools for important decisions in my work",
                    "Performance metrics and feedback loops are visible to users",
                    "I trust AI for strategic recommendations, not just factual lookups"
                ]
            },
            {
                dimension: "8. LEADERSHIP ALIGNMENT",
                description: "Executive modeling and support",
                questions: [
                    "Leaders in my organization personally use and endorse AI tools daily",
                    "There is visible alignment between executive AI strategy and my daily experience",
                    "Leaders have openly acknowledged their own AI learning journey",
                    "AI projects are championed visibly from the C-suite",
                    "There is a dedicated change management plan supporting AI transformation",
                    "Employees are encouraged to experiment with AI, not just required to comply",
                    "Leaders admit their knowledge gaps about AI"
                ]
            },
            {
                dimension: "9. POLICY CLARITY",
                description: "Clear guidance and communication",
                questions: [
                    "There is an easily accessible AI policy or charter in my organization",
                    "Clear incentives and rewards are tied to AI adoption",
                    "I know which AI tools are approved for use",
                    "Policies are communicated effectively at all organizational levels",
                    "Ambiguous signals discourage deeper integration of AI (REVERSE)",
                    "There is consistency between what leadership says and what is practiced"
                ]
            },
            {
                dimension: "10. BENEFIT REALIZATION",
                description: "Visible AI impact",
                questions: [
                    "The benefits of AI are communicated in concrete, task-specific ways",
                    "I can articulate specific time or quality improvements from AI integration",
                    "Successful case studies with measured impact are shared internally",
                    "Cumulative time saved by AI use is tracked and recognized",
                    "I notice the benefits of AI clearly, not just seamless assistance"
                ]
            },
            {
                dimension: "11. ADOPTION STAGE",
                description: "Current phase and scaling readiness",
                questions: [
                    "Low motivation or status quo biases are blocking new AI tools in my team (REVERSE)",
                    "There is high friction (rules, privacy concerns, approval steps) in AI workflows (REVERSE)",
                    "AI is perceived as additional work rather than work replacement (REVERSE)",
                    "AI adoption is ad hoc and occasional rather than embedded in core workflows (REVERSE)",
                    "Measurable improvements and evidence of scaling are visible",
                    "AI is used for complex, high-value decisions, not just simple tasks"
                ]
            }
        ];

        // STATE MANAGEMENT
        let currentQuestion = 0;
        let responses = [];
        let allResponses = JSON.parse(localStorage.getItem('allResponses')) || [];

        // INITIALIZE SURVEY
        function initSurvey() {
            responses = [];
            currentQuestion = 0;
            renderQuestion();
        }

        // RENDER CURRENT QUESTION
        function renderQuestion() {
            let globalIndex = 0;
            let dimensionIndex = 0;
            let questionIndex = 0;

            for (let i = 0; i <= currentQuestion; i++) {
                if (globalIndex >= surveyData[dimensionIndex].questions.length) {
                    dimensionIndex++;
                    questionIndex = 0;
                }
                if (i === currentQuestion) {
                    questionIndex = i - globalIndex;
                    break;
                }
                globalIndex++;
            }

            const dimension = surveyData[dimensionIndex];
            const question = dimension.questions[questionIndex];
            const totalQuestions = surveyData.reduce((sum, d) => sum + d.questions.length, 0);
            const progress = ((currentQuestion + 1) / totalQuestions) * 100;

            document.getElementById('progressFill').style.width = progress + '%';

            let html = `
                <div class="dimension-header">
                    <div class="dimension-name">${dimension.dimension}</div>
                    <div class="dimension-description">${dimension.description}</div>
                </div>
                <div class="question-text">Q${currentQuestion + 1}. ${question}</div>
                <div class="likert-scale">
                    <div class="likert-option" onclick="selectAnswer(1)">
                        <span>1</span>
                        <span class="likert-label">Strongly Disagree</span>
                    </div>
                    <div class="likert-option" onclick="selectAnswer(2)">
                        <span>2</span>
                        <span class="likert-label">Disagree</span>
                    </div>
                    <div class="likert-option" onclick="selectAnswer(3)">
                        <span>3</span>
                        <span class="likert-label">Neutral</span>
                    </div>
                    <div class="likert-option" onclick="selectAnswer(4)">
                        <span>4</span>
                        <span class="likert-label">Agree</span>
                    </div>
                    <div class="likert-option" onclick="selectAnswer(5)">
                        <span>5</span>
                        <span class="likert-label">Strongly Agree</span>
                    </div>
                </div>
            `;

            document.getElementById('surveyContent').innerHTML = html;

            // Highlight previously selected answer
            if (responses[currentQuestion] !== undefined) {
                const options = document.querySelectorAll('.likert-option');
                options[responses[currentQuestion] - 1].classList.add('selected');
            }

            // Update button visibility
            const totalQuestions = surveyData.reduce((sum, d) => sum + d.questions.length, 0);
            document.getElementById('btnPrev').style.display = currentQuestion > 0 ? 'block' : 'none';
            document.getElementById('btnNext').style.display = currentQuestion < totalQuestions - 1 ? 'block' : 'none';
            document.getElementById('btnSubmit').style.display = currentQuestion === totalQuestions - 1 ? 'block' : 'none';
        }

        // SELECT ANSWER
        function selectAnswer(value) {
            responses[currentQuestion] = value;
            const options = document.querySelectorAll('.likert-option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[value - 1].classList.add('selected');
        }

        // NEXT QUESTION
        function nextQuestion() {
            if (responses[currentQuestion] === undefined) {
                alert('Please select an answer before proceeding');
                return;
            }
            currentQuestion++;
            renderQuestion();
        }

        // PREVIOUS QUESTION
        function previousQuestion() {
            currentQuestion--;
            renderQuestion();
        }

        // SUBMIT SURVEY
        function submitSurvey() {
            if (responses.length !== surveyData.reduce((sum, d) => sum + d.questions.length, 0)) {
                alert('Please complete all questions');
                return;
            }

            const results = calculateResults();
            allResponses.push({
                id: 'RESP-' + Date.now(),
                responses: responses,
                results: results,
                timestamp: new Date().toLocaleString()
            });
            localStorage.setItem('allResponses', JSON.stringify(allResponses));

            displayResults(results);
            switchMode('results');
        }

        // CALCULATE RESULTS
        function calculateResults() {
            let dimensionScores = [];
            let questionIndex = 0;

            for (let dim = 0; dim < surveyData.length; dim++) {
                const questions = surveyData[dim].questions;
                let dimensionSum = 0;

                for (let q = 0; q < questions.length; q++) {
                    let answer = responses[questionIndex];
                    // Handle reverse scored questions
                    if (questions[q].includes('(REVERSE)')) {
                        answer = 6 - answer; // Reverse: 1‚Üí5, 2‚Üí4, 3‚Üí3, 4‚Üí2, 5‚Üí1
                    }
                    dimensionSum += answer;
                    questionIndex++;
                }

                const average = dimensionSum / questions.length;
                dimensionScores.push({
                    name: surveyData[dim].dimension,
                    score: Math.round(average * 20), // Convert to 0-100 scale
                    average: average
                });
            }

            const overallScore = Math.round(dimensionScores.reduce((sum, d) => sum + d.score, 0) / 11);
            const readinessLevel = overallScore >= 75 ? 'Strong' : (overallScore >= 50 ? 'Moderate' : 'Weak');

            return {
                overallScore: overallScore,
                readinessLevel: readinessLevel,
                dimensionScores: dimensionScores
            };
        }

        // DISPLAY RESULTS
        function displayResults(results) {
            const recommendations = {
                "Strong": "Your organization demonstrates strong behavioral readiness for AI adoption. Focus on scaling and expanding AI initiatives across more complex use cases.",
                "Moderate": "Your organization has foundational readiness but needs targeted interventions. Address the lowest-scoring dimensions to unlock full potential.",
                "Weak": "Significant behavioral gaps require foundational change management. Start with psychological safety, leadership alignment, and clear communication."
            };

            const dimensionRecommendations = {
                "1. EXPLORATION": "Encourage experimentation through low-risk pilot programs and internal innovation challenges.",
                "2. PERSISTENCE": "Build resilience through peer mentoring and celebrating learning from failures.",
                "3. INTEGRATION": "Create clear ethical guidelines and governance frameworks for responsible AI use.",
                "4. INFLUENCE": "Establish communities of practice and internal AI champions for knowledge sharing.",
                "5. PSYCHOLOGICAL BARRIERS": "Address fears through psychological safety programs and transparent communication.",
                "6. DIGITAL TEMPERAMENT": "Offer tailored training programs matching different comfort levels.",
                "7. TRUST & EXPLAINABILITY": "Provide transparency workshops on how AI systems work and their limitations.",
                "8. LEADERSHIP ALIGNMENT": "Ensure executives model AI adoption and admit knowledge gaps openly.",
                "9. POLICY CLARITY": "Communicate AI policies clearly with visible rewards for adoption.",
                "10. BENEFIT REALIZATION": "Share concrete case studies showing time savings and business impact.",
                "11. ADOPTION STAGE": "Embed AI into core workflows and high-value decision-making processes."
            };

            let html = `
                <div class="overall-score">
                    <div class="score-label">Your AI Instinct Index Score</div>
                    <div class="score-number">${results.overallScore}</div>
                    <div class="readiness-classification">${results.readinessLevel} Readiness</div>
                    <p style="margin-top: 20px; font-size: 0.95rem;">${recommendations[results.readinessLevel]}</p>
                </div>

                <h3 style="color: #00f0ff; margin-bottom: 20px; font-size: 1.5rem;">Behavioral Dimension Scores</h3>
                <div class="dimension-results">
            `;

            results.dimensionScores.forEach(dim => {
                const level = dim.score >= 75 ? 'strong' : (dim.score >= 50 ? 'medium' : 'weak');
                const levelText = level === 'strong' ? 'Strong' : (level === 'medium' ? 'Moderate' : 'Weak');

                html += `
                    <div class="dimension-card ${level}">
                        <div class="dimension-title">${dim.name}</div>
                        <div class="dimension-score">
                            <span class="score-text">${dim.score}</span>
                            <span style="color: #b4b4be; font-size: 0.9rem;">/ 100</span>
                        </div>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${dim.score}%"></div>
                        </div>
                        <div style="color: #94a3b8; font-size: 0.85rem; margin-bottom: 10px;">${levelText}</div>
                        <div class="dimension-recommendation">${dimensionRecommendations[dim.name]}</div>
                    </div>
                `;
            });

            html += `
                </div>
                <div class="export-buttons">
                    <button class="btn-export" onclick="exportResultsAsPDF()">üìÑ Export as PDF</button>
                    <button class="btn-export" onclick="switchMode('survey'); initSurvey();">üîÑ Retake Survey</button>
                </div>
            `;

            document.getElementById('resultsContent').innerHTML = html;
        }

        // ADMIN FUNCTIONS
        function unlockAdmin() {
            const password = document.getElementById('adminPassword').value;
            if (password === 'admin123') { // Simple admin password - change in production
                document.getElementById('adminContent').style.display = 'block';
                document.getElementById('adminPassword').style.display = 'none';
                document.querySelector('button[onclick="unlockAdmin()"]').style.display = 'none';
                updateAdminDashboard();
            } else {
                alert('Incorrect password');
            }
        }

        function updateAdminDashboard() {
            document.getElementById('totalResponses').textContent = allResponses.length;

            if (allResponses.length > 0) {
                const avgScore = Math.round(allResponses.reduce((sum, r) => sum + r.results.overallScore, 0) / allResponses.length);
                document.getElementById('avgScore').textContent = avgScore;
                document.getElementById('completionRate').textContent = '100%';

                // Update heatmap
                updateHeatmap();

                // Update table
                updateResponsesTable();
            }
        }

        function updateHeatmap() {
            const dimensions = surveyData.map((_, i) => i);
            let html = '';

            dimensions.forEach(dim => {
                const dimResponses = allResponses.map(r => r.results.dimensionScores[dim].score);
                const avgDim = Math.round(dimResponses.reduce((a, b) => a + b, 0) / dimResponses.length);

                const color = avgDim >= 75 ? '#00f0ff' : (avgDim >= 50 ? '#ffd700' : '#ff4444');
                html += `<div class="heatmap-cell" style="background-color: ${color}; color: #121423;">${avgDim}</div>`;
            });

            html = '<div style="grid-column: 1 / -1; text-align: center; font-size: 0.9rem; color: #b4b4be; margin-bottom: 10px;">Dimension Average Scores</div>' + html;

            document.getElementById('heatmap').innerHTML = html;
        }

        function updateResponsesTable() {
            let html = '';
            allResponses.forEach(r => {
                html += `
                    <tr>
                        <td>${r.id}</td>
                        <td>${r.results.overallScore}</td>
                        <td>${r.results.readinessLevel}</td>
                        <td>${r.timestamp}</td>
                        <td><button onclick="deleteResponse('${r.id}')" style="background: none; border: none; color: #ff4444; cursor: pointer; font-weight: 600;">Delete</button></td>
                    </tr>
                `;
            });
            document.getElementById('tableBody').innerHTML = html;
        }

        function deleteResponse(id) {
            if (confirm('Delete this response?')) {
                allResponses = allResponses.filter(r => r.id !== id);
                localStorage.setItem('allResponses', JSON.stringify(allResponses));
                updateAdminDashboard();
            }
        }

        function exportDataAsCSV() {
            if (allResponses.length === 0) {
                alert('No data to export');
                return;
            }

            let csv = 'Response ID,Overall Score,Readiness Level,Timestamp\n';
            allResponses.forEach(r => {
                csv += `${r.id},${r.results.overallScore},${r.results.readinessLevel},${r.timestamp}\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ai-instinct-index-results.csv';
            a.click();
        }

        function exportResultsAsPDF() {
            alert('PDF export feature: Please copy results and paste into a word processor or use browser print function (Ctrl+P / Cmd+P)');
        }

        function clearAllData() {
            if (confirm('Are you sure? This will delete all responses permanently.')) {
                allResponses = [];
                localStorage.setItem('allResponses', JSON.stringify(allResponses));
                updateAdminDashboard();
                alert('All data cleared');
            }
        }

        // MODE SWITCHING
        function switchMode(mode) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(mode).classList.add('active');

            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');

            if (mode === 'survey') {
                initSurvey();
            }
        }

        // Initialize on load
        window.addEventListener('load', function() {
            initSurvey();
        });
    </script>
</body>
</html>
